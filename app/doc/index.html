<!DOCTYPE html><html lang="en"><head><title>index</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content=""><meta name="groc-document-path" content="index"><meta name="groc-project-path" content="README.md"><link rel="stylesheet" type="text/css" media="all" href="assets/style.css"><script type="text/javascript" src="assets/behavior.js"></script><body><div id="meta"><div class="file-path">README.md</div></div><div id="document"><div class="segment"><div class="comments "><div class="wrapper"><h1 id="projet-dfi-batman">Projet Défi Batman</h1>

<p>Le <strong>Défi Batman</strong> est un outil  réalisé dans le cadre du GéoHack 2013.</p>

<p>Ce projet est le résultat du travail de l'équipe <strong>Défi Batman</strong> tenu lors
du <a href="http://defigeohackmtl.org/">Défi GéoHack MTL le 2 octobre 2013</a>.  L'objectif de ce défi était de créer une
application mobile pour recenser et localiser les colonies de Chauves-Souris.</p>

<p><strong>Répertoire officiel:</strong> <a href="https://github.com/smercier/defibatman">https://github.com/smercier/defibatman</a></p>

<h3 id="contexte"><strong>Contexte</strong></h3>

<p>En moins de trois ans, plusieurs espèces de chauves-souris, ont connu un déclin supérieur à 90%.
La principale cause est une infection fongique qui s’est propagée au Québec en 2010. Pour mieux
suivre le déclin des populations de chauves-souris, le Ministère du Développement Durable, Environnement,
Faune et Parc (MDDEFP) <a href="http://www.mddefp.gouv.qc.ca/infuseur/communique.asp?no=2538">sollicite la collaboration des citoyens</a> pour trouver des colonies de chauves-souris, mais
aimerait avoir un moyen plus simple que de recueillir l’information par téléphone.
Ce projet vise à doter cette organisation d’une application Web mobile simple qui permettrait de localiser
dynamiquement sur une carte les maternités de chauves-souris et de pouvoir y faire des recensements d’individu.</p>

<h3 id="documentationsupport"><strong>Documentation &amp; Support</strong></h3>

<p>La documentation (Readme.md) et le Wiki se retrouvent sur le <a href="https://github.com/smercier/defibatman">site officiel du projet</a>. La documentation du code, générée en format HTML via <a href="https://github.com/nevir/groc">Grok</a>, est disponible (pour le code couvert) dans le dossier /doc ou simplement en consultant les liens suivants:  </p>

<p><a href="app.html">Serveur (app.js)</a> <br />
<a href="routes/api.html">API (routes/api.js)</a> <br />
<a href="routes/auth.html">AUTH (routes/auth.js)</a> <br />
<a href="models/model.html">Modèle CouchDB (models/model.html)</a>   </p>

<h3 id="utilisation"><strong>Utilisation</strong></h3>

<p>La façon la plus facile d'utiliser le projet consiste à accéder à la version disponible sur le serveur mapgears en visitant le url <a href="">...</a>. Vous pouvez également faire rouler le tout en local sur votre machine, juste à suivre les instrucions un peu plus bas.</p>

<h3 id="installation"><strong>Installation</strong></h3>

<h4 id="prrequis"><strong>Prérequis</strong></h4>

<p><a href="http://git-scm.com/book/en/Getting-Started-Installing-Git">Git</a> <br />
<a href="http://nodejs.org/">NodeJs (v0.10.20)</a> <br />
<a href="http://couchdb.apache.org/">CouchDB (v1.2.2 et +)</a> <br />
<a href="http://www.elasticsearch.org/">ElasticSearch (optionnel pour l'instant)</a>    </p>

<h3 id="tapes"><strong>Étapes</strong></h3>

<h6 id="1clonerleprojet"><strong>1. Cloner le projet</strong></h6>

<p>Clonage du projet via lignes de commandes:</p>

<pre><code class=" sh">$ git clone git@github.com:smercier/defibatman.git
</code></pre>

<p><strong>!</strong> Ou encore mieux, faire un fork du projet via <a href="https://github.com">GitHub</a> et cloner votre fork. 
Il sera ainsi plus facile de collaborer et de soumettre des pull request. </p>

<h6 id="2configurationetgestiondesdpendances"><strong>2. Configuration et gestion des dépendances</strong></h6>

<p>Naviguer vers le dossier racine de l'application:</p>

<pre><code class=" sh">$ cd defibatman/app/
</code></pre>

<p><strong>Installation des dépendances globales</strong></p>

<p>Nodemon</p>

<pre><code class=" sh">$ npm install -g nodemon
</code></pre>

<p>Grunt-cli</p>

<pre><code class=" sh">$ npm install -g grunt-cli
</code></pre>

<p><strong>Installation du Frontend</strong></p>

<p>Naviguer vers le dossier /mobile (defibatman/app/mobile):</p>

<pre><code class=" sh">$ cd mobile
</code></pre>

<p>Installer les modules nécessaires:</p>

<pre><code class=" sh">$ npm install
</code></pre>

<p>Construire l'application (build):</p>

<pre><code class=" sh">$ grunt build
</code></pre>

<p><strong>Installation du Backend</strong></p>

<p>Revenir au dossier /app (defibatman/app):</p>

<pre><code class=" sh">$ cd ..
</code></pre>

<p>Installer les modules nécessaires au serveur:</p>

<pre><code class=" sh">$ npm install
</code></pre>

<p>Construire l'application serveur(build):</p>

<pre><code class=" sh">$ grunt build
</code></pre>

<p><strong>Configuration CouchDB</strong></p>

<p>Ce script va construire votre base de données, vos vues, votre sécurité et ajoutera quelques documents.    </p>

<p><strong>!!!</strong> Vous devez déjà avoir une instance de CouchDB installée et disponible sur le port 5984 de serveur local 127.0.0.1</p>

<p>Construire la base documentaire:</p>

<pre><code class=" sh">$ grunt couch
</code></pre>

<p>Votre application est maintenant installée!</p>

<h6 id="3activerleserveur"><strong>3. Activer le serveur</strong></h6>

<p>Activer le serveur avec Nodemon:</p>

<pre><code class=" sh">$ nodemon --debug ./app.js 3000
</code></pre>

<p>Vous pouvez maintenant visiter <a href="http://localhost:3000/">http://localhost:3000/</a>.</p>

<hr />

<hr />

<h6 id="pourgnrermodifierlefrontend"><strong>Pour générer/modifier le frontend</strong></h6>

<p>Naviguer vers le dossier racine du frontend:</p>

<pre><code class=" sh">$ cd defibatman/app/mobile
</code></pre>

<p><strong>Installation des dépendances globales du côté serveur</strong></p>

<p>Yeoman</p>

<pre><code class=" sh">$ npm install -g yo
</code></pre>

<p>Yeoman / generator-mobile</p>

<pre><code class=" sh">$ npm install -g generator-mobile
</code></pre>

<p>Visualiser les tâches Grunt disponibles:</p>

<pre><code class=" sh">$ grunt -h
</code></pre>

<p>Ex.: Partir un serveur:</p>

<pre><code class=" sh">$ grunt server
</code></pre>

<p>Ex.: Créer des <em>builds</em>:</p>

<pre><code class=" sh">$ grunt build
</code></pre>

<p>Vous pouvez maintenant déplacer les builds dans la structure du serveur backend dans le dossier /build. En mode manuel ou via la commande grunt build du dossier app. <br />
Visitez <a href="https://github.com/yeoman/generator-mobile">Yeoman generator-mobile</a> pour en savoir plus!</p>

<h3 id="libraries"><strong>Libraries</strong></h3>

<p>Le projet à été développé en utilisant beaucoup de librairies vraiment cool:</p>

<p><a href="https://github.com/twbs/bootstrap">Bootstrap (3.0.0)</a> <br />
<a href="https://github.com/bower/bower">Bower</a> <br />
<a href="https://github.com/jquery/jquery">jQuery</a> <br />
<a href="http://leafletjs.com/">Leaflet</a> <br />
<a href="http://yeoman.io/">Yeoman</a> <br />
<a href="http://gruntjs.com/">Grunt</a>  </p>

<p><a href="http://nodejs.org/">NodeJs</a> <br />
<a href="https://npmjs.org/">Npm</a> <br />
<a href="http://expressjs.com/">Express (3.4.0)</a> <br />
<a href="https://github.com/senchalabs/connect">Connect</a> <br />
<a href="https://github.com/dscape/nano">Nano</a> <br />
<a href="https://github.com/jesusabdullah/node-ecstatic">Ecstatic</a> <br />
<a href="https://npmjs.org/package/mustache">Mustache</a> <br />
<a href="https://github.com/nevir/groc">Grok</a>  </p>

<p><a href="http://couchdb.apache.org/">CouchDB</a> <br />
<a href="http://www.elasticsearch.org/">ElasticSearch</a>  </p>

<h3 id="feuillederoutetodo"><strong>Feuille de route  ... TODO</strong></h3>

<blockquote>
  <p>Améliorer la documentation   </p>
</blockquote>

<p><strong>Backend</strong>   </p>

<blockquote>
  <p>Verbes GET, PUT et DELETE de l'API REST <br />
  Volet Administratif <br />
  Gestion des utilisateurs <br />
  Tests unitaires et fonctionnels   </p>
</blockquote>

<p><strong>Frontend</strong>  </p>

<blockquote>
  <p>Liste des sites cs <br />
  Édition d'un site cs <br />
  Suppression d'un site cs <br />
  Vue utilisateur (liste des sites cs rapportés, etc.) <br />
  Vues Informations sur le projet <br />
  Vues Admin   </p>
</blockquote>

<p>Interfaces pour les écrans plus large ... actuellement seulement pour les mobiles   </p>

<p><strong>Geo</strong>  </p>

<blockquote>
  <p>Lier CouchDB avec ElasticSearch via river    </p>
</blockquote>

<h3 id="quipededveloppement"><strong>Équipe de développement</strong></h3>

<h3 id="contacts"><strong>&amp; Contacts</strong></h3>

<p>L'application pour recenser et localiser les colonies de Chauves-Souris a été développée et maintenue par:  </p>

<p>Simon Mercier <a href="&#109;&#x61;i&#108;&#x74;&#x6f;:&#x73;&#x6d;&#101;&#x72;&#99;&#x69;&#101;&#x72;&#64;&#x6d;&#97;&#112;&#103;&#x65;&#x61;&#114;&#115;&#x2e;&#x63;&#x6f;&#109;">&#x73;&#x6d;&#101;&#x72;&#99;&#x69;&#101;&#x72;&#64;&#x6d;&#97;&#112;&#103;&#x65;&#x61;&#114;&#115;&#x2e;&#x63;&#x6f;&#109;</a> <br />
Stephane Lefebvre <a href="&#x6d;&#97;i&#108;&#x74;&#111;:&#112;&#114;&#x6f;&#x66;&#46;l&#101;&#98;&#114;u&#x6e;&#64;&#x67;m&#x61;&#x69;&#x6c;.&#x63;&#x6f;&#x6d;">&#112;&#114;&#x6f;&#x66;&#46;l&#101;&#98;&#114;u&#x6e;&#64;&#x67;m&#x61;&#x69;&#x6c;.&#x63;&#x6f;&#x6d;</a> <br />
Camille VIOT <a href="&#109;&#97;&#105;l&#116;&#x6f;:&#x76;&#105;&#x6f;&#116;&#99;&#x61;&#x6d;&#64;&#x67;&#x6d;&#x61;&#x69;&#x6c;&#x2e;c&#111;&#x6d;">&#x76;&#105;&#x6f;&#116;&#99;&#x61;&#x6d;&#64;&#x67;&#x6d;&#x61;&#x69;&#x6c;&#x2e;c&#111;&#x6d;</a> <br />
Renaud Dedenon <a href="&#109;&#x61;&#105;&#x6c;&#x74;&#x6f;:&#x72;&#46;&#x64;&#101;&#x64;&#101;&#110;on&#x40;&#103;m&#97;&#105;&#x6c;&#x2e;&#99;&#111;&#x6d;">&#x72;&#46;&#x64;&#101;&#x64;&#101;&#110;on&#x40;&#103;m&#97;&#105;&#x6c;&#x2e;&#99;&#111;&#x6d;</a> <br />
Anouk Simard <a href="&#109;&#97;&#105;l&#116;&#111;:&#x41;n&#111;&#117;&#107;&#46;&#83;i&#109;&#97;&#114;&#100;&#x40;&#109;&#114;&#110;&#46;g&#x6f;&#117;&#x76;&#x2e;&#113;&#x63;&#x2e;&#x63;&#97;">&#x41;n&#111;&#117;&#107;&#46;&#83;i&#109;&#97;&#114;&#100;&#x40;&#109;&#114;&#110;&#46;g&#x6f;&#117;&#x76;&#x2e;&#113;&#x63;&#x2e;&#x63;&#97;</a>  </p>

<p>Si vous voulez en savoir plus sur le projet <strong>Défi Batman</strong>, le fonctionnement de l'application et les futurs développements, veuillez consulter le <a href="https://github.com/smercier/defibatman">site officiel du projet</a>.</p>

<p>Vous désirez contribuer à la suite du projet? Super! Juste à faire un <em>fork</em> du repo et à utiliser le système de Github pour signaller des problématiques et émettre des <em>pull requests</em>.</p>

<h3 id="licence"><strong>Licence</strong></h3>

<blockquote>
  <p><a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr">
  <img alt="Licence Creative Commons" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/80x15.png" />
  </a><br />Cette application est mise à disposition selon les termes de la <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr">Licence Creative Commons Attribution -  Partage dans les Mêmes Conditions 3.0 non transposé</a>.</p>
</blockquote></div></div></div></div></body></html>